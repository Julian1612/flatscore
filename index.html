<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TraumNest | FÃ¼r Julia</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/app.js" defer></script>
</head>
<body>

<div class="shapes-container">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
</div>

<div class="app-container">
    
    <header>
        <h1>ğŸ¡ TraumNest</h1>
    </header>

    <div id="mascot-feedback" class="view-section active" style="padding-bottom: 0;">
        <div class="mascot-stage">
            
            <div class="mascot-wrapper" onclick="mascotClick('bello')">
                <div class="mascot dog">
                    <svg viewBox="0 0 100 100">
                        <path d="M15,35 Q5,55 20,65 T35,50" fill="#d4a373" stroke="#4a4a4a" stroke-width="2.5" stroke-linejoin="round"/>
                        <path d="M85,35 Q95,55 80,65 T65,50" fill="#d4a373" stroke="#4a4a4a" stroke-width="2.5" stroke-linejoin="round"/>
                        <circle cx="50" cy="50" r="42" fill="#fff9c4" stroke="#4a4a4a" stroke-width="3"/>
                        <circle cx="35" cy="48" r="5" fill="#333"/>
                        <circle cx="65" cy="48" r="5" fill="#333"/>
                        <circle cx="37" cy="46" r="1.5" fill="white"/>
                        <circle cx="67" cy="46" r="1.5" fill="white"/>
                        <ellipse cx="50" cy="65" rx="16" ry="12" fill="white" />
                        <path d="M44,60 Q50,56 56,60 Q50,68 44,60" fill="#333"/>
                        <path d="M45,68 Q50,75 55,68" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="mascot-name">Bello</div>
            </div>

            <div class="speech-bubble">
                <p id="speech-text">Hallo Julia! Suchen wir dein Nest?</p>
            </div>

            <div class="mascot-wrapper" onclick="mascotClick('cubi')">
                <div class="mascot horse">
                    <svg viewBox="0 0 100 100">
                        <path d="M25,20 L35,40 L45,25 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2.5" stroke-linejoin="round"/>
                        <path d="M75,20 L65,40 L55,25 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2.5" stroke-linejoin="round"/>
                        <ellipse cx="50" cy="50" rx="42" ry="45" fill="#8d6e63" stroke="#5d4037" stroke-width="3"/>
                        <ellipse cx="50" cy="72" rx="22" ry="18" fill="#d7ccc8" stroke="none"/>
                        <path d="M35,15 Q50,0 65,15 Q70,25 60,30 Q50,35 40,30 Q30,25 35,15" fill="#5d4037" stroke="#3e2723" stroke-width="2" stroke-linejoin="round"/>
                        <circle cx="35" cy="48" r="5" fill="#333"/>
                        <circle cx="65" cy="48" r="5" fill="#333"/>
                        <circle cx="37" cy="46" r="1.5" fill="white"/>
                        <circle cx="67" cy="46" r="1.5" fill="white"/>
                        <circle cx="43" cy="70" r="2.5" fill="#5d4037"/>
                        <circle cx="57" cy="70" r="2.5" fill="#5d4037"/>
                        <path d="M45,80 Q50,85 55,80" fill="none" stroke="#5d4037" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="mascot-name">Cubi</div>
            </div>

        </div>
    </div>

    <div id="view-list" class="view-section active">
        <div class="filter-bar">
            <button class="btn-filter active" onclick="setFilter('all')">Alle</button>
            <button class="btn-filter" onclick="setFilter('top')">ğŸ† Top</button>
            <button class="btn-filter" onclick="setFilter('ok')">ğŸ¤” Naja</button>
            <button class="btn-filter" onclick="setFilter('flop')">â›”ï¸ Nein</button>
        </div>
        
        <div id="apartments-container"></div>
        
        <div id="empty-state">
            <div style="font-size: 3rem; margin-bottom:10px;">âœ¨</div>
            Dein Traum wartet, Julia.<br>Tippe unten auf <b>+ Neu</b>!
        </div>
    </div>

    <div id="view-new" class="view-section">
        <input type="hidden" id="edit-id" value="">
        
        <div class="card-title">ğŸ“ Die Fakten</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div class="full-width">
                    <label>Link zum Inserat</label>
                    <input type="url" id="f-link" placeholder="https://...">
                </div>
                <div class="full-width">
                    <label>Adresse</label>
                    <input type="text" id="f-street" placeholder="StraÃŸe & Nr.">
                </div>
                <div>
                    <label>PLZ</label>
                    <input type="number" id="f-zip" placeholder="12345" pattern="\d*">
                </div>
                <div>
                    <label>Stadt</label>
                    <input type="text" id="f-city" placeholder="Stadt">
                </div>
                <div>
                    <label>GrÃ¶ÃŸe (mÂ²)</label>
                    <input type="number" id="f-size" placeholder="60" pattern="\d*">
                </div>
                <div>
                    <label>Zimmer</label>
                    <input type="number" id="f-rooms" placeholder="2.5" step="0.5">
                </div>
                <div>
                    <label>Etage</label>
                    <input type="text" id="f-floor" placeholder="EG">
                </div>
                <div>
                    <label>Frei ab</label>
                    <input type="date" id="f-date">
                </div>
            </div>
        </div>

        <div class="card-title">ğŸ’¶ Kosten</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div>
                    <label>Kalt (â‚¬)</label>
                    <input type="number" id="f-cold" placeholder="800">
                </div>
                <div>
                    <label>NK (â‚¬)</label>
                    <input type="number" id="f-nk" placeholder="150">
                </div>
                <div>
                    <label>Heiz (â‚¬)</label>
                    <input type="number" id="f-heat" placeholder="inkl.">
                </div>
                <div>
                    <label class="highlight-label">Warm (â‚¬)</label>
                    <input type="number" id="f-warm" placeholder="950" style="font-weight:bold; color:#6c5ce7;">
                </div>
                <div class="full-width">
                     <label>Kaution (â‚¬)</label>
                     <input type="number" id="f-deposit" placeholder="2400">
                </div>
            </div>
        </div>

        <div class="card-title">ğŸ“ Kontakt & Gedanken</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div class="full-width">
                    <label>Name</label>
                    <input type="text" id="f-contact-name" placeholder="Vermieter / Makler">
                </div>
                <div>
                    <label>Telefon</label>
                    <input type="tel" id="f-contact-phone" placeholder="017...">
                </div>
                <div>
                    <label>E-Mail</label>
                    <input type="email" id="f-contact-email" placeholder="@">
                </div>
                <div class="full-width">
                    <label>Julias Notizen</label>
                    <textarea id="f-notes" rows="2" placeholder="Wie fÃ¼hlt es sich an?"></textarea>
                </div>
            </div>
        </div>

        <div class="card-title">ğŸš¥ Der Check</div>
        <div id="evaluation-form"></div>

        <button class="btn-action" onclick="calculateAndSave()">Speichern âœ¨</button>
        <button onclick="cancelEdit()" class="btn-secondary">Abbrechen</button>
    </div>

    <div id="view-config" class="view-section">
        <div class="speech-bubble-static">
            Hier definierst du, was dein TraumNest braucht.
        </div>

        <div class="form-card glass-card" style="border-left: 5px solid var(--c-primary);">
            <h3>ğŸ’° Budget & Regeln</h3>
            <div class="form-grid" style="align-items:center;">
                <div>
                    <label>Max. Warmmiete (â‚¬)</label>
                    <input type="number" id="conf-budget" placeholder="1000" onchange="saveConfig()">
                </div>
                <div style="display:flex; align-items:center; height:100%; padding-top:15px;">
                    <label class="switch">
                        <input type="checkbox" id="conf-use-budget" onchange="saveConfig()">
                        <span class="slider round"></span>
                    </label>
                    <span style="font-size:0.8rem; margin-left:10px; font-weight:700; color:var(--c-text-light);">Score beeinflussen</span>
                </div>
            </div>
        </div>

        <div class="form-card glass-card b-red">
            <h3>ğŸ”´ No-Gos</h3>
            <div class="input-row">
                <input type="text" id="input-red" placeholder="z.B. Dunkel...">
                <button onclick="addCriterion('red')" class="btn-icon">â•</button>
            </div>
            <ul id="list-red" class="config-list"></ul>
        </div>
        
        <div class="form-card glass-card b-yellow">
            <h3>ğŸŸ¡ Kompromisse</h3>
            <div class="input-row">
                <input type="text" id="input-yellow" placeholder="z.B. Kleines Bad...">
                <button onclick="addCriterion('yellow')" class="btn-icon">â•</button>
            </div>
            <ul id="list-yellow" class="config-list"></ul>
        </div>
        
        <div class="form-card glass-card b-green">
            <h3>ğŸŸ¢ WÃ¼nsche</h3>
            <div class="input-row">
                <input type="text" id="input-green" placeholder="z.B. Badewanne...">
                <button onclick="addCriterion('green')" class="btn-icon">â•</button>
            </div>
            <ul id="list-green" class="config-list"></ul>
        </div>
        <button class="btn-test" onclick="loadTestData()">ğŸ² Demo laden</button>
    </div>

</div>

<nav class="bottom-nav">
    <button onclick="switchView('list')" class="nav-item active" id="nav-list">
        <span class="nav-icon">ğŸ¡</span>
        <span class="nav-label">Liste</span>
    </button>
    
    <button onclick="switchView('new')" class="nav-item big-add" id="nav-new">
        <span class="nav-icon">â•</span>
    </button>
    
    <button onclick="switchView('config')" class="nav-item" id="nav-config">
        <span class="nav-icon">âœ¨</span>
        <span class="nav-label">WÃ¼nsche</span>
    </button>
</nav>

<div id="delete-modal" class="modal-overlay">
    <div class="modal-box">
        <div style="font-size:3rem; margin-bottom:10px;">ğŸ—‘ï¸</div>
        <h3>Weg damit?</h3>
        <p>Soll diese Wohnung wirklich gelÃ¶scht werden, Julia?</p>
        <div class="modal-buttons">
            <button onclick="closeModal()" class="btn-cancel">Behalten</button>
            <button onclick="confirmDelete()" class="btn-confirm">LÃ¶schen</button>
        </div>
    </div>
</div>

<div id="toast" class="toast">Kopiert! ğŸ“‹</div>

</body>
</html>