<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FlatScore | Cute Edition</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/app.js" defer></script>
</head>
<body>

<div class="shapes-container">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
</div>

<div class="app-container">
    <header>
        <h1>üè° FlatScore</h1>
        <nav>
            <button onclick="switchView('list')" class="btn-nav active" id="nav-list">Liste</button>
            <button onclick="switchView('new')" class="btn-nav" id="nav-new">+ Neu</button>
            <button onclick="switchView('config')" class="btn-nav" id="nav-config">Regeln</button>
        </nav>
    </header>

    <div id="mascot-feedback" class="view-section active" style="padding-bottom: 0;">
        <div class="mascot-stage">
            
            <div class="mascot-wrapper" onclick="mascotClick('bello')">
                <div class="mascot dog">
                    <svg viewBox="0 0 100 100">
                        <path d="M15,35 Q5,55 20,65 T35,50" fill="#d4a373" stroke="#4a4a4a" stroke-width="2.5" stroke-linejoin="round"/>
                        <path d="M85,35 Q95,55 80,65 T65,50" fill="#d4a373" stroke="#4a4a4a" stroke-width="2.5" stroke-linejoin="round"/>
                        <circle cx="50" cy="50" r="42" fill="#fff9c4" stroke="#4a4a4a" stroke-width="3"/>
                        <circle cx="35" cy="48" r="5" fill="#333"/>
                        <circle cx="65" cy="48" r="5" fill="#333"/>
                        <circle cx="37" cy="46" r="1.5" fill="white"/>
                        <circle cx="67" cy="46" r="1.5" fill="white"/>
                        <ellipse cx="50" cy="65" rx="16" ry="12" fill="white" />
                        <path d="M44,60 Q50,56 56,60 Q50,68 44,60" fill="#333"/>
                        <path d="M45,68 Q50,75 55,68" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="mascot-name">Bello</div>
            </div>

            <div class="speech-bubble">
                <p id="speech-text">Tipp auf uns f√ºr gute Laune!</p>
            </div>

            <div class="mascot-wrapper" onclick="mascotClick('cubi')">
                <div class="mascot horse">
                    <svg viewBox="0 0 100 100">
                        <path d="M25,20 L35,40 L45,25 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2.5" stroke-linejoin="round"/>
                        <path d="M75,20 L65,40 L55,25 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2.5" stroke-linejoin="round"/>

                        <ellipse cx="50" cy="50" rx="42" ry="45" fill="#8d6e63" stroke="#5d4037" stroke-width="3"/>

                        <ellipse cx="50" cy="72" rx="22" ry="18" fill="#d7ccc8" stroke="none"/>

                        <path d="M35,15 Q50,0 65,15 Q70,25 60,30 Q50,35 40,30 Q30,25 35,15" fill="#5d4037" stroke="#3e2723" stroke-width="2" stroke-linejoin="round"/>

                        <circle cx="35" cy="48" r="5" fill="#333"/>
                        <circle cx="65" cy="48" r="5" fill="#333"/>
                        <circle cx="37" cy="46" r="1.5" fill="white"/>
                        <circle cx="67" cy="46" r="1.5" fill="white"/>
                        
                        <circle cx="43" cy="70" r="2.5" fill="#5d4037"/>
                        <circle cx="57" cy="70" r="2.5" fill="#5d4037"/>
                        
                        <path d="M45,80 Q50,85 55,80" fill="none" stroke="#5d4037" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="mascot-name">Cubi</div>
            </div>

        </div>
    </div>

    <div id="view-list" class="view-section active">
        <div class="filter-bar">
            <button class="btn-filter active" onclick="setFilter('all')">Alle</button>
            <button class="btn-filter" onclick="setFilter('top')">üèÜ Top</button>
            <button class="btn-filter" onclick="setFilter('ok')">ü§î Naja</button>
            <button class="btn-filter" onclick="setFilter('flop')">‚õîÔ∏è K.O.</button>
        </div>
        <div id="apartments-container"></div>
        <div id="empty-state">
            <div style="font-size: 3rem; margin-bottom:10px;">‚ú®</div>
            Deine Traumwohnung wartet.<br>Tippe auf <b>+ Neu</b>!
        </div>
    </div>

    <div id="view-new" class="view-section">
        <input type="hidden" id="edit-id" value="">
        
        <div class="card-title">üìù Die Basics</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div class="full-width">
                    <label>Link</label>
                    <input type="url" id="f-link" placeholder="https://...">
                </div>
                <div class="full-width">
                    <label>Adresse</label>
                    <input type="text" id="f-street" placeholder="Stra√üe & Nr.">
                </div>
                <div>
                    <label>PLZ</label>
                    <input type="number" id="f-zip" placeholder="12345" pattern="\d*">
                </div>
                <div>
                    <label>Stadt</label>
                    <input type="text" id="f-city" placeholder="Stadt">
                </div>
                <div>
                    <label>Gr√∂√üe (m¬≤)</label>
                    <input type="number" id="f-size" placeholder="60" pattern="\d*">
                </div>
                <div>
                    <label>Zimmer</label>
                    <input type="number" id="f-rooms" placeholder="2.5" step="0.5">
                </div>
                <div>
                    <label>Etage</label>
                    <input type="text" id="f-floor" placeholder="EG">
                </div>
                <div>
                    <label>Frei ab</label>
                    <input type="date" id="f-date">
                </div>
            </div>
        </div>

        <div class="card-title">üí∂ Kosten</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div>
                    <label>Kalt (‚Ç¨)</label>
                    <input type="number" id="f-cold" placeholder="800">
                </div>
                <div>
                    <label>NK (‚Ç¨)</label>
                    <input type="number" id="f-nk" placeholder="150">
                </div>
                <div>
                    <label>Heiz (‚Ç¨)</label>
                    <input type="number" id="f-heat" placeholder="inkl.">
                </div>
                <div>
                    <label class="highlight-label">Warm (‚Ç¨)</label>
                    <input type="number" id="f-warm" placeholder="950" style="font-weight:bold; color:#6c5ce7;">
                </div>
                <div class="full-width">
                     <label>Kaution (‚Ç¨)</label>
                     <input type="number" id="f-deposit" placeholder="2400">
                </div>
            </div>
        </div>

        <div class="card-title">üìû Kontakt & Notiz</div>
        <div class="form-card glass-card">
            <div class="form-grid">
                <div>
                    <label>Name</label>
                    <input type="text" id="f-contact-name" placeholder="Vermieter">
                </div>
                <div>
                    <label>Kontakt</label>
                    <input type="text" id="f-contact-info" placeholder="Tel/Mail">
                </div>
                <div class="full-width">
                    <label>Notizen</label>
                    <textarea id="f-notes" rows="2" placeholder="Was sagt dein Bauchgef√ºhl?"></textarea>
                </div>
            </div>
        </div>

        <div class="card-title">üö• Der Check</div>
        <div id="evaluation-form"></div>

        <button class="btn-action" onclick="calculateAndSave()">Speichern ‚ú®</button>
        <button onclick="cancelEdit()" class="btn-secondary">Abbrechen</button>
    </div>

    <div id="view-config" class="view-section">
        <div class="form-card glass-card b-red">
            <h3>üî¥ No-Gos</h3>
            <div class="input-row">
                <input type="text" id="input-red" placeholder="z.B. Schimmel...">
                <button onclick="addCriterion('red')" class="btn-icon">‚ûï</button>
            </div>
            <ul id="list-red" class="config-list"></ul>
        </div>
        <div class="form-card glass-card b-yellow">
            <h3>üü° Kompromisse</h3>
            <div class="input-row">
                <input type="text" id="input-yellow" placeholder="z.B. Erdgeschoss...">
                <button onclick="addCriterion('yellow')" class="btn-icon">‚ûï</button>
            </div>
            <ul id="list-yellow" class="config-list"></ul>
        </div>
        <div class="form-card glass-card b-green">
            <h3>üü¢ Must-Haves</h3>
            <div class="input-row">
                <input type="text" id="input-green" placeholder="z.B. Balkon...">
                <button onclick="addCriterion('green')" class="btn-icon">‚ûï</button>
            </div>
            <ul id="list-green" class="config-list"></ul>
        </div>
        <button class="btn-test" onclick="loadTestData()">üé≤ Demo-Daten laden</button>
    </div>

</div>

<div id="delete-modal" class="modal-overlay">
    <div class="modal-box">
        <div style="font-size:3rem; margin-bottom:10px;">üóëÔ∏è</div>
        <h3>Wirklich l√∂schen?</h3>
        <p>Das kann nicht r√ºckg√§ngig gemacht werden.</p>
        <div class="modal-buttons">
            <button onclick="closeModal()" class="btn-cancel">Behalten</button>
            <button onclick="confirmDelete()" class="btn-confirm">Weg damit</button>
        </div>
    </div>
</div>

</body>
</html>